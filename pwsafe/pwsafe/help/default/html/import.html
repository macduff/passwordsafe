<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Importing Entries</title>
<!-- pwsafe version: 2.11--><!-- Modified: 15/06/2005 --><!--Popup control -->
<script language="javascript" src="html/popups.js">
</script>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<object id="popup" type="application/x-oleobject" classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
</object>
<!-- Popup Source File -->

<h2>Importing Entries</h2>
<p><span style="font-weight: bold;">Password Safe</span> allows you to import
password information from other formats. These files may be generated by other applications,
exported from a spreadsheet, or even written by hand using Notepad or a similar
text editor.</p>

<p>The formats that <span style="font-weight: bold;">Password Safe</span> supports are:</p>

<ul>
<li><a href="#text">Text</a></li>
<li><a href="#XML">XML</a></li>
<li><a href="#KeePassV1">KeePass V1</a> (another password management utility)</li>
<li><a href="#KeePassV2">KeePass V2</a> (another password management utility)</li>
</ul>

<p>In addition, to 'import' a subset of entries from another Password Safe
database, just start Password Safe (assuming you permit multiple
instances via Manage-&gt;Options-&gt;System tab) and open the other
database, whilst having your normal database open in another instance.
Then you can simply drag and drop any entries or groups to your open database from
this 'import' database. </p>

<div class="instr">

<h3><a name="text"></a>Text Format</h3>
<p>Text files used to import password entries consist of one or
more password entries. Each field within an entry is separated by a
field separator and each entry may consist of one or more
lines. Details on the expected format of the imported text file
may be found in the "<a href="imp_exp_text_details.html">Plain Text Export &amp; Import Format</a>" section.</p>

<h3>Import Text Settings Dialog</h3>
<p>The field separator used in the text file being imported and a default group
name to import the new entries into can be configured before processing the file.</p>

<p><img alt="Import Text Settings" src="images/import.jpg"></p>
<ol>
<li><b>File &gt; Import From....</b></li>
<li>Select <b>Plain Text...</b></li>
<li>Set import settings and parameters for the text file being imported</li>
<li>If a Notes field multi-line delimiter character has been
used, either in a previous Export or using a text editor, enter it here
so that, during the Import process, the Notes field will be split into
multiple lines by replacing this character by a newline.</li>
<li>Click <b>OK</b></li>
<li>Select the text file to import.</li>
<li>At the end of the import process, a small dialog box appears
showing how many entries were added, and how many (if any) were
unsuccessfully parsed.</li>
</ol>

<hr>
<small><b><span style="color: rgb(255, 0, 0);">IMPORTANT</span>: </b>The
first line of the file being imported must be a tab-separated list of
the names of the fields that each entry contains, e.g.,
"Group/Title&nbsp;&nbsp;&nbsp; Username&nbsp;&nbsp;&nbsp;
Password&nbsp;&nbsp;&nbsp; URL", etc. This line is generated
automatically by the "<a href="export.html">Export Text</a>" function,
but must be added manually for files created from other tools.<br>
</small>
<hr style="width: 100%; height: 2px;">

<h3><a name="XML"></a>XML</h3>

<p>XML (eXtensible Markup Language) is a popular format for transferring
data between applications. <span style="font-weight: bold;">Password Safe</span>
can import XML files that were generated according to the schema defined in
the file <span style="font-style: italic;">pwsafe.xsd</span>,
which is provided as part of the distribution.</p>

<h3><a name="KeePassV1"></a>KeePass V1</h3>

<h4>TXT File</h4>

<p>You may also import a TXT file exported from Keepass V1 (tested on files created
by V1.19b).</p>

<p>The following fields are converted to the PasswordSafe equivalents:</p>
Each new entry starts with a line beginning with '[' and ending with as ']'. The text 
between these will be imported as the 'Title' of this entry.<p>
<p>Each piece of information is on one line and the following tags are at the beginning
of each line:</p>
<ul>
<li>"Group: " becomes the entry's Group</li>
<li>"Group Tree: " becomes the entry's group hierachy to the root</li>
<li>"User Name: " becomes the entry's User Name</li>
<li>"Password: " becomes the entry's Password</li>
<li>"URL: " becomes the entry's URL</li>
<li>"Notes: " becomes the entry's Notes</li>
<li>"UUID: " becomes the internal unique ID of the PasswordSafe entry</li>
<li>"Creation Time: " becomes the entry's creation time</li>
<li>"Last Access: " becomes the entry's last accessed time</li>
<li>"Last Modification: " becomes the entry's password and the entry's last modification time</li>
<li>"Expires: " becomes the entry's expiry date</li>
</ul>

<p>The following fields are ignored:</p>

<ul>
<li>"Icon"</li>
<li>"Attachment Description"</li>
<li>"Attachment" - do <b><u>NOT</u></b> export this field as it can make the export file extremely large.</li>
</ul>

<p>Note that times in PasswordSafe must be earlier than January 19, 2038.  Any time greater than this is
treated as invalid and that the associated field is unset.</p>

<p>Please note, you <b><u>MUST</u></b> check the box <i>"Encode/replace newline characters by '\n'"</i>
during the export from Keepass V1 or <u>the import may fail or give unexpected results.</u></p>

<h4>CSV File</h4>

<p>You may also import a CSV (Comma Separated Values) file exported from Keepass V1 (tested on files created
by V1.19b).</p>

<p>The following fields are converted to the PasswordSafe equivalents:</p>
<ul>
<li>"Password Groups" becomes the entry's Group</li>
<li>"Group Tree" becomes the entry's group hierachy to the root</li>
<li>"Account" becomes the entry's Title</li>
<li>"Login Name" becomes the entry's User Name</li>
<li>"Password" becomes the entry's Password</li>
<li>"Web Site" becomes the entry's URL</li>
<li>"Comments" becomes the entry's Notes</li>
<li>"UUID" becomes the internal unique ID of the PasswordSafe entry</li>
<li>"Creation Time" becomes the entry's creation time</li>
<li>"Last Access" becomes the entry's last accessed time</li>
<li>"Last Modification" becomes the entry's password and the entry's last modification time</li>
<li>"Expires" becomes the entry's expiry date</li>
</ul>

<p>The following fields are ignored:</p>
<ul>
<li>"Icon"</li>
<li>"Attachment Description"</li>
<li>"Attachment" - do <b><u>NOT</u></b> export this field as it can make the export file extremely large.</li>
</ul>

<p>Note that times in PasswordSafe must be earlier than January 19, 2038.  Any time greater than this is
treated as invalid and that the associated field is unset.</p>

<p>Please note, you <b><u>MUST</u></b> check the box <i>"Encode/replace newline characters by '\n'"</i>
during the export from Keepass V1 or <u>the import may fail or give unexpected results.</u></p>

<h4>XML File</h4>

<p>PasswordSafe cannot directly import a XML file exported by KeePass V1 as the fields are too different.
However, we have provided a XSL Transfom file (KPV1_to_PWS.xslt).  Once exported from KeePass V1, the
programs below be used to process it with this XSLT file to produce a PasswordSafe compatible XML file
that can then be imported in PasswordSafe <b>V3.26 or later</b>.</p>

<p>This XSLT file conforms to V1.0 of XSLT as described in <a target="blank" href="http://www.w3.org/TR/xslt">
http://www.w3.org/TR/xslt</a></p>

<p>During testing under Windows, the following was found:</p>
<ol>
<li>It appears that the old command line program from Microsoft (msxml.exe V1.1.0.1
dated 2001) cannot process this XSLT file.</li>
<li>The command line progam NSLT2 (V2.2 dated 2005) can correctly process this XSLT
file but it no longer seems to be under active development and, although can be
found on the web, the home web site no longer allows downloads.</li>
<li>AltovaXML Community Edition (current version 2011r2sp1) can also correctly process
this XSLT file. See <a target="blank" href="http://www.altova.com/altovaxml.html">
http://www.altova.com/altovaxml.html</a>.</li>
<li>Saxon-HE (Home Edition) (current version 9.3.0.5) may support this XSLT file but
has not yet been tested. See <a target="blank" href="http://saxon.sourceforge.net/">
http://saxon.sourceforge.net/</a>.</li>
</ol>
<p>All four programs are free.</p>


<h3><a name="KeePassV2"></a>KeePass V2</h3>

<p>PasswordSafe cannot import any file created by KeePass V2 - even the KeePass V1 CSV format
available from this program, as it does not allow the important setting of the 
<i>"Encode/replace newline characters by '\n'"</i> requirement.  However, it is possible to
export a KeePass V2 database as a KeePass V1 database.  You may then export this to either a
TXT, CSV or XML file and imported as described <a href="#KeePassV1">above</a>.</p>


</div>
</div>

<!-- Added some white space at the bottom for natural scrolling -->
<br>
<br>
<br>

<object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
  <param name="Keyword" value="Import Password Entries">
  <param name="Keyword" value="Export Password Entries">
  <param name="Keyword" value="Excel Password Data">
  <param name="Keyword" value="Converting Existing Password Data">
</object>

</body>
</html>
